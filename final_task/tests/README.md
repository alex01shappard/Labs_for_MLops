# Tests for Jailbreak Prompt Classifier on BERT

–¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç –ø–æ –±–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤: –≤—ã—è–≤–ª–µ–Ω–∏–µ "jailbreak"-–ø—Ä–æ–º–ø—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏ –Ω–∞ –±–∞–∑–µ BERT.

## –û–ø–∏—Å–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å `BERT`, –Ω–∞—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤ –Ω–∞ –¥–≤–∞ –∫–ª–∞—Å—Å–∞:

* **regular** (0) ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
* **jailbreak** (1) ‚Äî –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–µ/–æ–±—Ö–æ–¥—è—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–æ–º–ø—Ç—ã

## –î–∞–Ω–Ω—ã–µ

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–∞—Ç–∞—Å–µ—Ç—ã —Å –¥–≤—É—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–∑–æ–≤: –º–∞–π 2023 –∏ –¥–µ–∫–∞–±—Ä—å 2023.

* –ò—Å—Ç–æ—á–Ω–∏–∫: `jailbreak_llms/data/prompts/`
* –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∫–ª–∞—Å—Å–æ–≤
* –°–æ–∑–¥–∞—ë—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞—à—É–º–ª—ë–Ω–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏

## ü™§ –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

–ú–æ–¥–µ–ª—å `BERT` –±—ã–ª–∞ –¥–æ–æ–±—É—á–µ–Ω–∞ –Ω–∞ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∫–∞–∫ `my_bert_model/`.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (PyTest)

–°–æ–∑–¥–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –Ω–∞ PyTest, –∫–æ—Ç–æ—Ä—ã–µ:

* –ó–∞–≥—Ä—É–∂–∞—é—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é –º–æ–¥–µ–ª—å –∏ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä
* –û—Ü–µ–Ω–∏–≤–∞—é—Ç —Ç–æ—á–Ω–æ—Å—Ç—å, precision, recall –∏ f1-score
* –°—Ä–∞–≤–Ω–∏–≤–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —á–∏—Å—Ç–æ–º –∏ –∑–∞—à—É–º–ª—ë–Ω–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–∞—Ö

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ my_bert_model/                   # –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ test_model_quality.py        # PyTest —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ combined_prompts_balanced.csv # –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ combined_prompts_balanced_noisy.csv # –ó–∞—à—É–º–ª—ë–Ω–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç 
‚îÇ   ‚îî‚îÄ‚îÄ noisy_combined_prompts.ipynb # –§–∞–π–ª –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —à—É–º–∞ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ
```

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:

```bash
pytest -q -s
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```
=== CLEAN DATA METRICS ===
Accuracy:  0.9239
Precision: 0.9878
Recall:    0.8585
F1-score:  0.9186

=== NOISY DATA METRICS ===
Accuracy:  0.9063
Precision: 0.9845
Recall:    0.8257
F1-score:  0.8981
```


